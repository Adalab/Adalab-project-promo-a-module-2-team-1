const e={palette:"",name:"",job:"",photo:"",email:"",phone:"",linkedin:"",github:""},c=document.querySelector(".js_palette1"),p=document.querySelector(".js_palette2"),h=document.querySelector(".js_palette3"),F=document.querySelector(".js_form"),f=document.querySelector(".js_name"),L=document.querySelector(".js_job"),v=document.querySelector(".js_email"),g=document.querySelector(".js_tlf"),_=document.querySelector(".js_linkedin"),j=document.querySelector(".js_github"),J=document.querySelector(".js-preview-reset"),o=document.querySelector(".js-card-name"),d=document.querySelector(".js-card-job"),b=document.querySelector(".js-card-mobile"),y=document.querySelector(".js-card-email"),S=document.querySelector(".js-card-linkedin"),k=document.querySelector(".js-card-github"),s=document.querySelector(".js__previewCard"),O=document.querySelector(".js_dheader"),q=document.querySelector(".js_pantone"),E=document.querySelector(".js_darrow"),P=document.querySelector(".js_fheader"),T=document.querySelector(".js_formlist"),w=document.querySelector(".js_farrow"),C=document.querySelector(".js_sheader"),M=document.querySelector(".js_card"),H=document.querySelector(".js_sarrow");O.addEventListener("click",r=>{T.classList.add("stuffed-hidden"),M.classList.add("share__hidden"),q.classList.remove("desing__hidden"),w.classList.remove("rotate-stuffed"),H.classList.remove("rotate-stuffed"),E.classList.add("desing__rotate")});P.addEventListener("click",r=>{q.classList.add("desing__hidden"),M.classList.add("share__hidden"),T.classList.remove("stuffed-hidden"),H.classList.remove("share__rotate"),E.classList.remove("desing__rotate"),w.classList.add("rotate-stuffed")});C.addEventListener("click",r=>{q.classList.add("desing__hidden"),T.classList.add("stuffed-hidden"),M.classList.remove("share__hidden"),E.classList.remove("desing__rotate"),w.classList.remove("rotate-stuffed"),H.classList.add("share__rotate")});c.addEventListener("input",r=>{e.palette=1,s.classList.remove("palette1","palette2","palette3"),s.classList.add("palette1"),a()});p.addEventListener("input",r=>{e.palette=2,s.classList.remove("palette1","palette2","palette3"),s.classList.add("palette2"),a()});h.addEventListener("input",r=>{e.palette=3,s.classList.remove("palette1","palette2","palette3"),s.classList.add("palette3"),a()});f.addEventListener("input",r=>{e.name=r.currentTarget.value,l(),a()});L.addEventListener("input",r=>{e.job=r.currentTarget.value,l(),a()});v.addEventListener("input",r=>{e.email=r.currentTarget.value,l(),a()});g.addEventListener("input",r=>{e.phone=r.currentTarget.value,l(),a()});_.addEventListener("input",r=>{e.linkedin=r.currentTarget.value,l(),a()});j.addEventListener("input",r=>{const n=r.currentTarget.value;e.github=n.replace("@",""),l(),a()});J.addEventListener("click",r=>{o.innerHTML="Nombre Apellido",d.innerHTML="Front-end alien",u.style.backgroundImage='url("images/portrait.jpg")',I.style.backgroundImage='url("")',b.href="",y.href="",S.href="",k.href="",f.value="",L.value="",v.value="",g.value="",_.value="",j.value="",c.checked=!0,p.checked=!1,h.checked=!1,s.classList.remove("palette2","palette3"),s.classList.add("palette1"),e.palette=1,e.name="",e.job="",e.phone="",e.email="",e.linkedin="",e.github="",e.photo=""});function l(){e.name===""?o.innerHTML="Nombre Apellido":o.innerHTML=e.name,e.job===""?d.innerHTML="Front-end alien":d.innerHTML=e.job,y.href="mailto:"+e.email,b.href="tel:"+e.phone,S.href="https://"+e.linkedin,k.href="https://github.com/"+e.github}const i=new FileReader,$=document.querySelector(".js__profile-upload-btn"),u=document.querySelector(".js__profile-image"),I=document.querySelector(".js__profile-preview");function D(r){const n=r.currentTarget.files[0];i.addEventListener("load",G),i.readAsDataURL(n)}function G(){u.style.backgroundImage=`url(${i.result})`,I.style.backgroundImage=`url(${i.result})`,e.photo=i.result,localStorage.setItem("card",JSON.stringify(e))}$.addEventListener("change",D);const m=localStorage.getItem("card"),t=JSON.parse(m);m!==null?(console.log(m),e.palette===""?e.palette=1:e.palette=t.palette,e.name=t.name,e.job=t.job,e.photo=t.photo,e.email=t.email,e.phone=t.phone,e.linkedin=t.linkedin,e.github=t.github,o.innerHTML=t.name,t.name===""?o.innerHTML="Nombre Apellido":o.innerHTML=t.name,t.job===""?d.innerHTML="Front-end alien":d.innerHTML=t.job,t.photo?u.style.backgroundImage=`url(${t.photo})`:u.style.backgroundImage="url('./images/portrait.jpg')",I.style.backgroundImage=`url(${t.photo})`,b.href="tel:"+t.phone,y.href="mailto:"+t.email,S.href="https://"+t.linkedin,k.href="https://github.com/"+t.github,f.value=t.name,L.value=t.job,v.value=t.email,g.value=t.phone,_.value=t.linkedin,j.value=t.github,t.palette===1?c.checked=!0:t.palette===2?p.checked=!0:t.palette===3?h.checked=!0:c.checked=!0):(F.reset(),l(),o.innerHTML="Nombre Apellido",c.checked=!0);function a(){localStorage.setItem("card",JSON.stringify(e))}const R=document.querySelector(".js_button-create"),U=document.querySelector(".js_shareResponse"),N=document.querySelector(".js_shareLink"),A=document.querySelector(".js_shareError");function B(r){r.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{console.log(n),n.success?(U.classList.remove("share__hidden"),N.href=n.cardURL,N.innerHTML=n.cardURL):(A.classList.remove("share__hidden"),A.innerHTML="Por favor rellene todos los campos")})}R.addEventListener("click",B);
//# sourceMappingURL=main.js.map
