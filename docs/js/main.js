const e={palette:"",name:"",job:"",photo:"",email:"",phone:"",linkedin:"",github:""},l=document.querySelector(".js_palette1"),p=document.querySelector(".js_palette2"),h=document.querySelector(".js_palette3"),A=document.querySelector(".js_form"),v=document.querySelector(".js_name"),L=document.querySelector(".js_job"),f=document.querySelector(".js_email"),g=document.querySelector(".js_tlf"),_=document.querySelector(".js_linkedin"),j=document.querySelector(".js_github"),J=document.querySelector(".js-preview-reset"),c=document.querySelector(".js-card-name"),i=document.querySelector(".js-card-job"),y=document.querySelector(".js-card-mobile"),S=document.querySelector(".js-card-email"),b=document.querySelector(".js-card-linkedin"),E=document.querySelector(".js-card-github"),a=document.querySelector(".js__previewCard"),O=document.querySelector(".js_dheader"),q=document.querySelector(".js_pantone"),k=document.querySelector(".js_darrow"),P=document.querySelector(".js_fheader"),T=document.querySelector(".js_formlist"),w=document.querySelector(".js_farrow"),C=document.querySelector(".js_sheader"),I=document.querySelector(".js_card"),M=document.querySelector(".js_sarrow");O.addEventListener("click",t=>{T.classList.add("stuffed-hidden"),I.classList.add("share__hidden"),q.classList.remove("desing__hidden"),w.classList.remove("rotate-stuffed"),M.classList.remove("rotate-stuffed"),k.classList.add("desing__rotate")});P.addEventListener("click",t=>{q.classList.add("desing__hidden"),I.classList.add("share__hidden"),T.classList.remove("stuffed-hidden"),M.classList.remove("share__rotate"),k.classList.remove("desing__rotate"),w.classList.add("rotate-stuffed")});C.addEventListener("click",t=>{q.classList.add("desing__hidden"),T.classList.add("stuffed-hidden"),I.classList.remove("share__hidden"),k.classList.remove("desing__rotate"),w.classList.remove("rotate-stuffed"),M.classList.add("share__rotate")});v.addEventListener("input",t=>{e.name=t.currentTarget.value,o()});L.addEventListener("input",t=>{e.job=t.currentTarget.value,o()});f.addEventListener("input",t=>{e.email=t.currentTarget.value,o()});g.addEventListener("input",t=>{e.phone=t.currentTarget.value,o()});_.addEventListener("input",t=>{e.linkedin=t.currentTarget.value,o()});j.addEventListener("input",t=>{e.github=t.currentTarget.value,o()});J.addEventListener("click",t=>{c.innerHTML="Nombre Apellido",i.innerHTML="Front-end developer",u.style.backgroundImage='url("images/portrait.jpg")',H.style.backgroundImage='url("")',y.href="",S.href="",b.href="",E.href="",A.reset(),localStorage.removeItem("card")});function o(){e.name===""?c.innerHTML="Nombre Apellido":c.innerHTML=e.name,e.job===""?i.innerHTML="Front-end developer":i.innerHTML=e.job,S.href="mailto:"+e.email,y.href="tel:"+e.phone,b.href="https://"+e.linkedin,E.href="https://"+e.github}l.addEventListener("input",t=>{e.palette=1,a.classList.remove("palette1","palette2","palette3"),a.classList.add("palette1")});p.addEventListener("input",t=>{e.palette=2,a.classList.remove("palette1","palette2","palette3"),a.classList.add("palette2")});h.addEventListener("input",t=>{e.palette=3,a.classList.remove("palette1","palette2","palette3"),a.classList.add("palette3")});l.checked=!0;const d=new FileReader,$=document.querySelector(".js__profile-upload-btn"),u=document.querySelector(".js__profile-image"),H=document.querySelector(".js__profile-preview");function D(t){const n=t.currentTarget.files[0];d.addEventListener("load",R),d.readAsDataURL(n)}function R(){u.style.backgroundImage=`url(${d.result})`,H.style.backgroundImage=`url(${d.result})`,e.photo=d.result,localStorage.setItem("card",JSON.stringify(e))}$.addEventListener("change",D);const m=localStorage.getItem("card"),r=JSON.parse(m);m!==null?(console.log(m),e.palette=r.palette,e.name=r.name,e.job=r.job,e.photo=r.photo,e.email=r.email,e.phone=r.phone,e.linkedin=r.linkedin,e.github=r.github,c.innerHTML=r.name,i.innerHTML=r.job,u.style.backgroundImage=`url(${r.photo})`,H.style.backgroundImage=`url(${r.photo})`,y.href="tel:"+r.phone,S.href="mailto:"+r.email,b.href="https://"+r.linkedin,E.href="https://"+r.github,v.value=r.name,L.value=r.job,f.value=r.email,g.value=r.phone,_.value=r.linkedin,j.value=r.github,r.palette===1?l.checked=!0:r.palette===2?p.checked=!0:r.palette===3&&(h.checked=!0)):(A.reset(),o());function s(t){console.log(t.currentTarget.id);const n=t.currentTarget.id;e[n]=t.currentTarget.value,localStorage.setItem("card",JSON.stringify(e)),console.log(e)}v.addEventListener("input",s);L.addEventListener("input",s);u.addEventListener("input",s);f.addEventListener("input",s);g.addEventListener("input",s);_.addEventListener("input",s);j.addEventListener("input",s);l.addEventListener("input",s);p.addEventListener("input",s);h.addEventListener("input",s);const U=document.querySelector(".js_button-create"),B=document.querySelector(".js_shareResponse"),N=document.querySelector(".js_shareLink"),F=document.querySelector(".js_shareError");function G(t){t.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{console.log(n),n.success?(B.classList.remove("share__hidden"),N.href=n.cardURL,N.innerHTML=n.cardURL):(F.classList.remove("share__hidden"),F.innerHTML="Por favor rellene todos los campos")})}U.addEventListener("click",G);
//# sourceMappingURL=main.js.map
